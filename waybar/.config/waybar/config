{
  "layer": "top",
  "position": "top",
  "height": 32,
  "margin-bottom": 0,

  "modules-left": [
    "niri/workspaces",
    "niri/window",
    "custom/window-maximize",
    "custom/window-close"
  ],

  "modules-center": [
    "custom/clock-fr"
  ],
  
  "modules-right": [
    "tray",
    "cpu",
    "memory",
    "temperature",
    "custom/weather",
    "custom/theme-toggle",
    "custom/caffeine",
    "pulseaudio",
    "custom/keyboard-layout",
    "custom/power"
  ],

  "niri/workspaces": {
    "format": "{index}",
    "all-outputs": true
  },

  "niri/window": {
    "format": "{title}",
    "separate-outputs": false,
    "max-length": 100,
    "icon": true,
    "icon-size": 24,
    "tooltip": false,
  },

  "custom/window-maximize": {
    "format": "ğŸ—–",
    "on-click": "niri msg action maximize-column",
    "tooltip": false
  },

  "custom/window-close": {
    "format": "âœ•",
    "on-click": "niri msg action close-window",
    "tooltip": false
  },

  "custom/keyboard-layout": {
    "exec": "~/.config/waybar/keyboard-layout.sh",
    "interval": 1,
    "format": "{}",
    "return-type": "json",
    "on-click": "niri msg action switch-layout next",
    "on-click-right": "~/.config/waybar/show-keyboard-layout.sh"
  },

  "tray": {
    "icon-size": 18,
    "spacing": 10,
    "show-passive-items": true
  },

  "cpu": {
    "interval": 5,
    "format": "âš™ï¸ {usage}%",
    "tooltip": true,
    "on-click": "~/.config/waybar/toggle-app.sh gnome-system gnome-system-monitor"
  },

  "memory": {
    "interval": 5,
    "format": "ğŸ§  {percentage}%",
    "tooltip-format": "RAM: {used:0.1f}G / {total:0.1f}G\nSwap: {swapUsed:0.1f}G / {swapTotal:0.1f}G",
    "on-click": "~/.config/waybar/toggle-app.sh gnome-system gnome-system-monitor"
  },

  "temperature": {
    "interval": 5,
    "hwmon-path": "/sys/class/hwmon/hwmon2/temp1_input",
    "critical-threshold": 90,
    "format": "ğŸŒ¡ï¸ {temperatureC}Â°C",
    "tooltip": false
  },

  "custom/weather": {
    "exec": "~/.config/waybar/weather.sh",
    "interval": 1800,
    "return-type": "text",
    "format": "{}",
    "on-click": "~/.config/waybar/toggle-app.sh gnome-weather gnome-weather",
    "tooltip": false
  },

  "custom/theme-toggle": {
    "exec": "~/.config/waybar/theme-check.sh",
    "interval": 5,
    "return-type": "text",
    "format": "{}",
    "on-click": "~/.config/waybar/theme-toggle.sh toggle",
    "tooltip-format": "ThÃ¨me actuel. Cliquez pour changer."
  },

  "pulseaudio": {
    "format": "{icon} {volume}%",
    "format-bluetooth": "ğŸ§ {volume}%",
    "format-muted": "ğŸ”‡",
    "format-icons": {
      "headphone": "ğŸ§",
      "hands-free": "ğŸ§",
      "headset": "ğŸ§",
      "phone": "ğŸ“±",
      "portable": "ğŸ”Š",
      "car": "ğŸš—",
      "default": ["ğŸ”ˆ", "ğŸ”‰", "ğŸ”Š"]
    },
    "scroll-step": 5,
    "on-click": "~/.config/waybar/toggle-app.sh pavucontrol pavucontrol --tab=3",
    "tooltip-format": "{desc}\nVolume: {volume}%"
  },

  "custom/clock-fr": {
    "exec": "~/.config/waybar/date-fr.sh",
    "interval": 60,
    "format": " {}",
    "on-click": "gnome-calendar",
    "tooltip": false
  },

  "custom/caffeine": {
    "exec": "~/.config/waybar/caffeine-toggle.sh status",
    "interval": 2,
    "return-type": "json",
    "format": "{}",
    "on-click": "~/.config/waybar/caffeine-toggle.sh toggle"
  },

  "custom/power": {
    "format": "â»",
    "on-click": "wlogout --layout /home/pierre/.config/wlogout/layout --css /home/pierre/.config/wlogout/style.css --buttons-per-row 1 --column-spacing 0 --row-spacing 0",
    "tooltip": false
  }
}
