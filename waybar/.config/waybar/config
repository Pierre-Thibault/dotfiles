{
  "layer": "top",
  "position": "top",
  "height": 32,
  "margin-top": 0,
  "margin-bottom": 0,
  "margin-left": 0,
  "margin-right": 0,

  "modules-left": [
    "niri/workspaces",
    "niri/window"
  ],

  "modules-center": [],

  "modules-right": [
    "tray",
    "cpu",
    "memory",
    "temperature",
    "custom/weather",
    "custom/theme-toggle",
    "pulseaudio",
    "custom/keyboard-layout",
    "custom/clock-fr",
    "custom/power"
  ],

  "niri/workspaces": {
    "format": "{index}",
    "all-outputs": true
  },

  "niri/window": {
    "format": "{title}",
    "separate-outputs": false,
    "max-length": 100,
    "icon": true,
    "icon-size": 24,
    "tooltip": false,
    "on-click": "~/nixos-config/bin/select_app_window_niri --all"
  },

  "custom/keyboard-layout": {
    "exec": "~/.config/waybar/keyboard-layout.sh",
    "interval": 1,
    "format": "{}",
    "return-type": "json",
    "on-click": "niri msg action switch-layout next"
  },

  "tray": {
    "icon-size": 18,
    "spacing": 10,
    "show-passive-items": true
  },

  "cpu": {
    "interval": 5,
    "format": "âš™ï¸ {usage}%",
    "tooltip": true,
    "on-click": "gnome-system-monitor"
  },

  "memory": {
    "interval": 5,
    "format": "ğŸ§  {percentage}%",
    "tooltip-format": "RAM: {used:0.1f}G / {total:0.1f}G\nSwap: {swapUsed:0.1f}G / {swapTotal:0.1f}G",
    "on-click": "gnome-system-monitor"
  },

  "temperature": {
    "interval": 5,
    "hwmon-path": "/sys/class/hwmon/hwmon2/temp1_input",
    "critical-threshold": 90,
    "format": "ğŸŒ¡ï¸ {temperatureC}Â°C",
    "tooltip": false
  },

  "custom/weather": {
    "exec": "~/.config/waybar/weather.sh",
    "interval": 1800,
    "return-type": "text",
    "format": "{}",
    "on-click": "gnome-weather",
    "tooltip": false
  },

  "custom/theme-toggle": {
    "exec": "~/.config/waybar/theme-check.sh",
    "interval": 5,
    "return-type": "text",
    "format": "{}",
    "on-click": "~/.config/waybar/theme-toggle.sh toggle",
    "tooltip-format": "ThÃ¨me actuel. Cliquez pour changer."
  },

  "pulseaudio": {
    "format": "{icon} {volume}%",
    "format-bluetooth": "ğŸ§ {volume}%",
    "format-muted": "ğŸ”‡",
    "format-icons": {
      "headphone": "ğŸ§",
      "hands-free": "ğŸ§",
      "headset": "ğŸ§",
      "phone": "ğŸ“±",
      "portable": "ğŸ”Š",
      "car": "ğŸš—",
      "default": ["ğŸ”ˆ", "ğŸ”‰", "ğŸ”Š"]
    },
    "scroll-step": 5,
    "on-click": "pavucontrol",
    "tooltip-format": "{desc}\nVolume: {volume}%"
  },

  "custom/clock-fr": {
    "exec": "~/.config/waybar/date-fr.sh",
    "interval": 60,
    "format": " {}",
    "on-click": "gnome-calendar",
    "tooltip": false
  },

  "custom/power": {
    "format": "â»",
    "on-click": "wlogout --layout /home/pierre/.config/wlogout/layout --css /home/pierre/.config/wlogout/style.css --buttons-per-row 1 --column-spacing 0 --row-spacing 0",
    "tooltip": false
  }
}
